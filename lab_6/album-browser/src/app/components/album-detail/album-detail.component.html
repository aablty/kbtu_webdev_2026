<div class="mx-auto max-w-2xl px-6 py-10">
  <a
    routerLink="/albums"
    class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 aria-invalid:border-destructive h-9 px-4 py-2 has-[>svg]:px-3 mb-6 rounded-full text-muted-foreground hover:bg-secondary hover:text-secondary-foreground"
  >
    ‚Üê Back to Albums
  </a>

  @if (isLoading) {
    <div class="flex flex-col items-center gap-3 py-20">
      <lucide-icon name="loader2" class="h-8 w-8 animate-spin text-primary" />
      <p class="text-sm text-muted-foreground">Loading album...</p>
    </div>
  }
  @if (error) {
    <div class="flex flex-col items-center gap-2 py-20">
      <p class="text-sm text-destructive">Failed to load album.</p>
    </div>
  }

  @if (album) {
    <div class="flex flex-col gap-6 rounded-2xl border-2 border-border bg-card p-8 shadow-lg">
      <div class="flex items-center gap-3">
        <h1 class="font-serif text-3xl font-bold text-card-foreground">Album Details</h1>
      </div>
      <div class="flex flex-col gap-3 rounded-xl bg-secondary p-4">
        <div class="flex items-center gap-2 text-sm">
          <span class="font-semibold text-secondary-foreground">ID:</span>
          <span class="text-muted-foreground">{{ album.id }}</span>
        </div>
        <div class="flex items-center gap-2 text-sm">
          <span class="font-semibold text-secondary-foreground">User ID:</span>
          <span class="text-muted-foreground">{{ album.userId }}</span>
        </div>
        <div class="flex items-center gap-2 text-sm">
          <span class="font-semibold text-secondary-foreground">Title:</span>
          <span class="text-muted-foreground">{{ album.title }}</span>
        </div>
      </div>
      <div class="flex flex-col gap-2">
        <label for="album-title" class="text-sm font-semibold text-card-foreground"
          >Edit Title</label
        >
        <input
          id="album-title"
          [(ngModel)]="title"
          class="file:text-foreground selection:bg-primary selection:text-primary-foreground h-9 w-full min-w-0 px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:ring-[3px] aria-invalid:ring-destructive/20 aria-invalid:border-destructive rounded-xl border-2 border-input bg-background text-foreground placeholder:text-muted-foreground focus-visible:border-primary focus-visible:ring-primary"
        />
      </div>
      <div class="flex flex-col gap-3 sm:flex-row">
        <button
          (click)="handleSave()"
          [disabled]="isSaving"
          class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 aria-invalid:border-destructive h-9 py-2 has-[>svg]:px-3 rounded-full bg-accent px-6 text-accent-foreground shadow-md hover:bg-accent/90"
        >
          @if (isSaving) {
            <lucide-icon name="loader2" class="mr-2 h-4 w-4 animate-spin" />
          }
          @if (!isSaving) {
            <lucide-icon name="save" class="mr-2 h-4 w-4" />
          }
          Save Changes
        </button>
        <a
          [routerLink]="['/albums', album.id, 'photos']"
          class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 aria-invalid:border-destructive bg-background shadow-xs h-9 px-4 py-2 has-[>svg]:px-3 rounded-full border-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground"
        >
          <lucide-icon name="camera" class="mr-2 h-4 w-4" />
          View Photos
        </a>
      </div>
    </div>
  }
</div>
